<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DjsDopeDesigns</title>
<style>
  body { 
    font-family: "Helvetica Neue", Arial, sans-serif; 
    margin: 0; 
    min-height: 100vh;
    background: linear-gradient(to right, #d9fdd3, #d3e9ff); /* pale green ‚Üí pale blue */
    color: #333;
  }

  /* üîù Sticky Header */
  .header { 
    position: sticky; 
    top: 0; 
    background: #fff; 
    padding: 12px 20px; 
    display: flex; 
    align-items: center; 
    justify-content: space-between;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08); 
    z-index: 1000;
  }
  .logo { font-weight: bold; font-size: 1.2rem; text-decoration: none; color: #222; }
  .cart { position: relative; font-size: 1.4rem; text-decoration: none; color: #444; }
  #cart-count { position: absolute; top: -8px; right: -10px; background: #f1641e; color: #fff; border-radius: 50%; padding: 2px 7px; font-size: 12px; font-weight: bold; }

  /* üõç Responsive Product Grid */
  .products {
    display: grid;
    gap: 20px;
    padding: 20px;
    justify-content: center;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  /* üü£ Card Style */
  .card {
    --card-bg: rgba(255,255,255,0.8); /* semi-transparent white */
    --card-accent: #7c3aed;
    --card-text: #1e293b;
    --card-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);

    background: var(--card-bg);
    border-radius: 20px;
    position: relative;
    overflow: hidden;
    transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    box-shadow: var(--card-shadow);
    border: 1px solid rgba(255, 255, 255, 0.3);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    display: flex;
    flex-direction: column;
    backdrop-filter: blur(6px); /* soft glass effect */
  }

  .card__shine { position: absolute; inset: 0; background: linear-gradient(120deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0) 60%); opacity: 0; transition: opacity 0.3s ease; }
  .card__glow { position: absolute; inset: -10px; background: radial-gradient(circle at 50% 0%, rgba(124,58,237,0.25) 0%, rgba(124,58,237,0) 70%); opacity: 0; transition: opacity 0.5s ease; }

  .card__content { padding: 1.25em; display: flex; flex-direction: column; gap: 0.75em; position: relative; z-index: 2; flex: 1 1 auto; }

  .card__image { width: 100%; flex-shrink: 0; border-radius: 12px; overflow: hidden; max-height: 140px; }
  .card__image img { width: 100%; height: 100%; object-fit: cover; display: block; }

  .card__text { display: flex; flex-direction: column; gap: 0.25em; }
  .card__title { color: var(--card-text); font-size: 1.1em; margin: 0; font-weight: 700; transition: all 0.3s ease; }
  .card__description { color: var(--card-text); font-size: 0.75em; margin: 0; opacity: 0.7; transition: all 0.3s ease; }

  .card__footer { display: flex; justify-content: center; align-items: center; margin-top: auto; }

  /* üü° Add to Cart Button */
  button {
    --button_radius: 0.75em;
    --button_color: #e8e8e8;
    --button_outline_color: #000000;
    font-size: 17px;
    font-weight: bold;
    border: none;
    cursor: pointer;
    border-radius: var(--button_radius);
    background: var(--button_outline_color);
    width: 100%;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .button_top { display: block; width: 100%; text-align: center; color: white; transform: scale(0.9); transition: all 0.3s ease; }
  button:hover .button_top { transform: scale(1); }
  button:active .button_top { transform: scale(0.95); }

  /* Hover Effects */
  .card:hover { transform: translateY(-10px); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.15), 0 10px 10px -5px rgba(0,0,0,0.05); border-color: rgba(124,58,237,0.25); }
  .card:hover .card__shine { opacity: 1; animation: shine 3s infinite; }
  .card:hover .card__glow { opacity: 1; }

  @keyframes shine { 0% { background-position: -100% 0; } 100% { background-position: 200% 0; } }

  /* Mobile: 2 per row */
  @media (max-width: 768px) {
    .products { grid-template-columns: repeat(2, 1fr); }
  }

  /* Desktop: 4 per row */
  @media (min-width: 769px) {
    .products {
      grid-template-columns: repeat(4, 1fr);
      max-width: 1200px;
      margin: 0 auto;
      gap: 20px;
    }
    .card__image { max-height: none; flex-grow: 1; }
  }
</style>
</head>
<body>

<header class="header">
  <a href="index.html" class="logo">DjsDopeDesigns</a>
  <a href="cart.html" class="cart">üõí <span id="cart-count">0</span></a>
</header>

<section class="products" id="product-grid"></section>

<script>
let allProducts = [];

fetch('products.json')
  .then(res => res.json())
  .then(products => {
    allProducts = products;
    const grid = document.getElementById('product-grid');
    products.forEach(p => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
  <a href="product.html?id=${p.id}" style="text-decoration:none; color:inherit;">
    <div class="card__shine"></div>
    <div class="card__glow"></div>
    <div class="card__content">
      <div class="card__image"><img src="${p.image}" alt="${p.name}"></div>
      <div class="card__text">
        <h3 class="card__title">${p.name}</h3>
        <p class="card__description">$${(p.price/100).toFixed(2)}</p>
      </div>
      <div class="card__footer">
        <button onclick="addToCart('${p.id}'); event.stopPropagation();"><span class="button_top">Add to Cart</span></button>
      </div>
    </div>
  </a>
`;
      grid.appendChild(card);
    });
  });

function addToCart(productId){
  const product = allProducts.find(p=>p.id===productId);
  if(!product) return;
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  const existing = cart.find(i=>i.id===productId);
  if(existing) existing.quantity++;
  else cart.push({id:product.id,name:product.name,price:product.price/100,quantity:1,image:product.image});
  localStorage.setItem("cart", JSON.stringify(cart));
  alert(`${product.name} added to cart!`);
  updateCartCount();
}

function updateCartCount(){
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const total = cart.reduce((sum,i)=>sum+i.quantity,0);
  document.getElementById("cart-count").textContent = total;
}
updateCartCount();
</script>
</body>
</html>
